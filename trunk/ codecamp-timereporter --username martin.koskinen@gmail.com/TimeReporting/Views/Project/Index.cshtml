@model IEnumerable<TimeReporting.Models.Project>
@{
    ViewBag.Title = "ProjectView";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create Dummy project", "Create")
    
</p>
Project: 
@Html.DropDownList("projectTitle", String.Empty) 

<script type="text/javascript">
    $(document).ready(function () {
        $('#projectTitle').change(function () {
            //alert($(this).val());
           $.get("Project/ProjectDetails/", { "id": $(this).val() },
             function (response) { 
                            $("#results").html(response); 
                        });

                        ViewBag.id = $(this).val();
            $.ajax({
                Url: "@Url.Action("ProjectDetails", "Project")",
                data: { "id": $(this).val() }, 
                success: function (response) { 
                            $("#results").html(response); 
                        },
                dataType: "GET"
            });

        });
    }); 
</script>

<p>
    @{Html.RenderPartial("ProjectDetails", Model, new ViewDataDictionary { {"vb", ViewBag}});}

</p>